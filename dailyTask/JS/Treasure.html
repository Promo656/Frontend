<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="heading">Найди клад!</h1>
    <img id="map" width="400" height="400" src="treasuremap.webp">
    <p id="distance"></p>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        let getRandomNumber=function(size){
            return Math.floor(Math.random()*size)
        }

        let getDistance=function(event, target){
            let diffX=event.offsetX-target.x
            let diffY=event.offsetY-target.y
            return Math.sqrt((diffX*diffX)+(diffY*diffY))
        }
        
        let getDistanceHint=function(distance){
            if (distance<10){
                return "Обожжешься"
            } else if (distance<20){
                return "Очень горячо"
            } else if (distance<80){
                return "Горячо"
            } else if (distance<160){
                return "Холодно"
            } else if (distance<320){
                return "Очень холодно"
            } else {
                return "Замерзнешь"
            }
        }

        let width=400
        let height=400
        let clicks=0

        let target={
            x:getRandomNumber(width),
            y:getRandomNumber(height)
        }

        $("#map").click(function(event){
            clicks++
            let distance=getDistance(event, target)

            let distanceHint=getDistanceHint(distance)

            $("#distance").text(distanceHint)

            if (distance<8){
                alert("Клад найден! Сделано кликов: "+ clicks)
            }
        })
    </script>
</body>
</html>